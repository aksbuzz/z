<!DOCTYPE html>
<html><head>
<title>
UNIX crash course
</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Robots" content="ALL">
<meta name="keywords" content="Tor, webhosting, .onion, darknet, UNIX, BSD.">
<meta name="description" content="Tor, webhosting, .onion, darknet, UNIX, BSD.">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="UNIX%20crash%20course_files/tstyle.css">
<link rel="shortcut icon" href="http://soupksx6vqh3ydda.onion.city/favicon.ico">
</head>

<body>

<div class="sha1" id="cont2">
	
<div class="grd" id="head">
onion soup
</div>

<div id="nav1">
<a href="http://soupksx6vqh3ydda.onion.city/index.html">home</a>
</div>

<div id="fcontent">

<h4>
UNIX crash course
</h4>

<p>
The following screed contains a relatively painless romp through the 
sometimes painful terrain of UNIX commands. My intent is to describe a 
simple (though comprehensive) presentation of the basic, UNIX 
commandline. The commands - below - are generic; that is to say, they <em>should</em> all be valid and execute on <em>most</em> modern, UNIX operating systems. (In the future, this page may be expanded to include networking.)
</p>

<ol class="ls">
<li><a href="#file">Filesystem</a>
</li><li><a href="#perm">Permissions and ownerships</a>
</li><li><a href="#find">The find utility</a>
</li><li><a href="#data">Data archives</a> 
</li><li><a href="#misc">Miscellaneous</a>
</li></ol>

</div>

<div id="econtent">

<div id="flust">	

<div id="flex">	

<p class="big">
<a id="file"></a>
Navigating a filesystem, listing files and manipulating them
</p>

<p>
Display the absolute PATH of the current working directory.
</p>

<p class="zzz">
$ pwd
</p>

<p>
Display the absolute path of an executable, named: "rm".
</p> 

<p class="zzz"> 
$ which rm 
</p>

<p> 
Change directory to /home/doctor/medical_abnormalities - using the absolute PATH.
</p> 

<p class="zzz"> 
$ cd /home/doctor/medical_abnormalities 
</p>

<p>
Change from the current working directory to its sub-directory, named: "music" - using the relative path.
</p>

<p class="zzz">
$ cd music
</p>

<p>
Change the working directory to $HOME.
</p>

<p class="zzz">
$ cd ~/
</p>

<p>
List all non-hidden files and directories in the current working directory.
</p>

<p class="zzz">
$ ls
</p>

<p>
List ALL files and directories (hidden or otherwise) within the current 
working directory in long format - displaying their attributes, i.e. 
size, ownership, time last edited, permissions, etc.
</p>

<p class="zzz">
$ ls -la
</p>

<p>
Recursively list all non-hidden files and directories residing under the music directory.
</p>

<p class="zzz">
$ ls -Rl music
</p>

<p>
List in long format a single file, named: "politics.txt"
</p>

<p class="zzz">
$ ls -la politics.txt
</p>

<p>
List the attributes: size, ownership, time when updated, permissions, etc. on the_damned directory.
</p>

<p class="zzz">
$ ls -ld the_damned
</p>

<p>
Print, as a numerical count, all files in the_damned directory.
</p>

<p class="zzz">
$ ls -la the_damned |wc -l
</p>

<p>
Print the contents of hell.txt to standard out.
</p>

<p class="zzz">
$ cat hell.txt
</p>

<p>
Copy (as a backup) hell.txt to hell.txt.OLD.
</p>

<p class="zzz">
$ cp hell.txt hell.txt.OLD
</p>

<p>
Recursively copy the putrid directory to stinks, while preserving ("-p")
 the modification time, access time, file flags, file mode, user ID, and
 group ID attributes.
</p>

<p class="zzz">
$ cp -Rp putrid stinks
</p>

<p>
Move ugly.txt to stupid.txt, i.e. rename a file. This command works without additional flags for a directory, unlike cp.
</p>

<p class="zzz">
$ mv ugly.txt stupid.txt
</p>

<p>
Create a new file, named: "operation_file".
</p>

<p class="zzz">
$ touch operation_file
</p>

<p>
Add the word "brain" to the operation_file, append "surgery" to the bottom of it then erase all of the contents in the file.
</p>

<p class="zzz">
$ echo "brain" &gt; operation_file
<br>
<br>

$ echo "surgery" &gt;&gt; operation_file
<br>
<br>

$ echo "" &gt; operation_file
</p>

<p>
Delete operation_file.
</p>

<p class="zzz">
$ rm operation_file
</p>

<p>
Create evil directory.
</p>

<p class="zzz">
$ mkdir evil
</p>

<p>
Delete the evil directory and its contents recursively - without 
prompting for a confirmation when deleting any file or directory in (or 
under) evil.
</p>

<p class="zzz">
$ rm -rf evil
</p>

<p>
Print to the screen the details of the type of a file queried: text, binary, image, audio, etc.
</p> 

<p class="zzz"> 
$ file air_supply.mp3 
</p>

<p>
Create a symbolic link ("short cut") from an existing file called 
"real_file" in the home directory to a linked_file in the www 
sub-directory. This command works identically for directories.
</p>

<p class="zzz">
$ ln -s $HOME/real_file $HOME/www/linked_file
</p>

</div>

<div id="flex1">

<p class="big">
<a id="perm"></a>
Altering permissions and ownerships
</p>

<p>
"chmod" is employed to alter the read, write and execute permissions on 
files and directories. The breakdown of the absolute (numerical) mode 
for the permissions of files and directories is as follows: the first 
field signifies the owner, the second field the group and the third 
field all others, i.e. world.
</p>

<p>
(owner)(group)(other)
</p>

<p>
read = 4
<br>
write = 2
<br>
execute = 1
</p>

<p>
So - by placing 755 on a file means that the owner has read, write and 
execute permissions, while the group and other have only read and 
execute permissions on that file. Three examples follow:
</p>

<p>
The numerical bits, 644, signify that the owner of index.html will be 
able to write to and read it, all members of the owner's group will be 
able to read it, and all other system users will be able to read it.
</p>

<p class="zzz">
$ chmod 644 index.html
</p>

<p>
After the following command is executed, the owner will have read, write
 and execute permissions, the group will have read and execute 
permissions, and all others will have execute permissions over 
index.cgi.
</p>

<p class="zzz">
$ chmod 751 index.cgi
</p>

<p>
Change the permissions on the www directory to user read, write and execute, group execute and other execute.
</p>

<p class="zzz">
$ chmod 711 www
</p>

<p>
Change <em>both</em> the user and group ownership on "trap.txt" to "rat"
 and "cheese", respectively. (Verify that the cheese group exists in 
/etc/group. If not, add it with groupadd and associate the user to it 
with usermod.)
</p>

<p class="zzz">
$ chown -h rat:cheese trap.txt
</p>

<p>
Change user and group ownership - recursively - on all files and sub-directories under the trap directory.
</p>

<p class="zzz">
$ chown -R rat:cheese trap
</p>

<p>
Change the group ownership to "graft" on a file, named: "politician.txt". 
</p>

<p class="zzz">
$ chgrp -h graft politician.txt
</p>

<p>
Change the group ownership to "graft" recursively on a directory, named: "judges".
</p>

<p class="zzz">
$ chgrp -R graft judges
</p>

<p>
Strip <strong>all</strong> permissions from a file, so as to have it not
 be executable, read from or written to. (Generally, a sysadmin will do 
so in the wake of a misbehaving script, and he will change the owner to 
root, preventing an under-priviledged user from altering the permissions
 on the script.)
</p>

<p class="zzz">
# chmod 000 misbehaved.cgi
<br><br>
# chown -h root misbehaved.cgi
</p>

<p class="big1">
<a id="find"></a>
Locating files and directories with the find utility
</p>

<p>
Locate and print all files in the www directory and its child directories which contain the .php extension. When using <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?find">find</a>, always enclose wildcards expressions in quotes to prevent shell expansion.
</p>

<p class="zzz">
$ find $HOME/www -iname "*.php"
</p>

<p>
Find and remove a file, -C  with a non-escapable "-" character in its name.
</p>

<p class="zzz">
$ find . -iname '-C' -exec rm {} \;
</p>

<p>
Locate all files in the current directory with the extension of .html, 
then search each located file for "&lt;p class="e"&gt;" and change every
 found instance of it to "&lt;p&gt;" with the <a href="http://www.grymoire.com/Unix/Sed.html">sed</a> (stream) editor. (<strong>N.B.</strong> On *BSD machines, sed requires an argument after "-i". Usually, 2 double quotes, " ", will work.)
</p>

<p class="zzz">
$ find . -type f -iname "*.html" -exec sed -i \ 's/&lt;p class=\"e\"&gt;/&lt;p&gt;/g' {} \;
</p>

<p>
Find all child directories with <em>dangerous</em> 777 permissions and alter them to reasonably sane 751 permissions.
</p>

<p class="zzz">
$ find . -type d -perm 777 -exec chmod 751 {} \;
</p> 

<p>Find all files in the current and child directories with world write 
permissions and alter them so that only the user can write to them but 
group and other can read them.
</p>

<p class="zzz">
$ find . -type f -perm 666 -exec chmod 644 {} \;
</p> 

<p>
Find all child directories with the old group ID "felony" and change them to the new group ID "misdemeanor".
</p>

<p class="zzz">
$ find . -type d -group felony -exec chown -R misdemeanor {} \;
</p>

<p>
Locate all files in the current directory and it sub-directories owned by the rat user, then delete the located files. (<em>Be careful when using find with -exec and rm.</em>)
</p>

<p class="zzz">
$ find . -type f -user rat -exec rm {} \;
</p>

</div>
</div>

<div id="flust1">
<div id="flex2">

<p class="big1">
<a id="data"></a>
Archiving data
</p>

<p>
Compress the frauds file with tar to create frauds.tar.
</p>

<p class="zzz">
$ tar cvf frauds.tar frauds 
</p>

<p>
Extract the contents of the frauds.tar file.
</p>

<p class="zzz">
$ tar xvf frauds.tar
</p>

<p>
Extract the crimes.tar.gz file.
</p>

<p class="zzz">
$ tar xzvf crimes.tar.gz
</p>

<p>
Extract the diseases.tgz file.
</p>

<p class="zzz">
$ tar xzvf diseases.tgz
</p>

<p>
Compress music.tar with the highest level of <a href="https://www.gnu.org/software/gzip/manual/gzip.html">gzip</a> compression. After executing the command, the file created will be "music.tar.gz".
</p>

<p class="zzz">
$ gzip -9 music.tar
</p>

<p>
Decompress hack.gz. 
</p>

<p class="zzz">
$ gzip -d hack.gz
</p>

<p>
Extract the entire pr0n archive, which has the .tar.bz2 extension.
</p>

<p class="zzz">
$ tar xjvf pr0n.tar.bz2
</p>

<p>
Create png_archive.tar from the contents of png_directory - located in the current directory.
</p>

<p class="zzz">
$ tar cvf png_archive.tar ./png_directory
</p>

<p>
List (test) but do not extract any file from png_archive.tar.
</p>

<p class="zzz">
$ tar tvf png_archive.tar
</p>

<p>
Extract only the dirty.png from png_archive.tar.
</p>

<p class="zzz">
$ tar xvf png_archive.tar dirty.png
</p>

<p>
Unzip a file, named: "dresses.zip".
</p>

<p class="zzz">
$ unzip dresses.zip
</p>

</div>
<div id="flex3">

<p class="big1">
<a id="misc"></a>
Miscellaneous utilities
</p>

<p>
Search for and display a string of characters "Drone Assassination" in "cia.html" with <a href="http://www.gnu.org/savannah-checkouts/gnu/grep/manual/grep.html">grep</a>. Below, "-i" = case insensitive.
</p>

<p class="zzz">
$ grep -i "Drone Assassination" cia.html
</p>

<p>
Search for and display "Charles Manson" in every file residing under the "prison" directory.
</p>

<p class="zzz">
$ grep -r "Charles Manson" prison \;
</p>

<p>
Determine which partitions are currently mounted and print their sizes in a human, understandable format.
</p>

<p class="zzz">
$ df -h
</p>

<p>
Print the size of the contents of the "cracked" directory in a human, understandable format.
</p>

<p class="zzz">
$ du -sh cracked
</p>

<p>
Change the password. The user will be prompted for his current password,
 a new password and the confirmation of the new password.
</p>

<p class="zzz">
$ passwd
</p>

<p>
Inspect the memory usage, percentage of cpu resources consumed, programs executed, etc. by the user "stinky" with <a href="http://www.unixtop.org/">top</a>. 
</p>

<p class="zzz">
$ top -u stinky
</p>

<p>
Display all of the processes spawned by the user "pinhead".
</p>

<p class="zzz">
$ ps aux |grep pinhead
</p>

<p>
vi (visual editor) is the only text editor that a user needs to master. 
Written in the 1970s by ultra-guru, Berkeley-grad, co-inventor of the 
TCP/IP protocol, inventor of JAVA, etc. Bill Joy, vi is installed - by 
default - on virtually every UNIX operating system. For an introduction,
 see: <a href="http://www.linfo.org/vi">http://www.linfo.org/vi</a>.
</p>

<p class="zzz">
$ vi joy.txt 
</p>

<p>
Inspect the last screen of characters written to "log_file". Use tail to
 monitor frequently updating files (e.g. logs) in real time.
</p>

<p class="zzz">
$ tail -f log_file
</p>

<p>
Inspect the first screen of characters written to "crash.html" with more. Hit the space bar to navigate downwards into the text.
</p>

<p class="zzz">
$ more crash.html 
</p>

</div>
</div>

</div>

<div class="grb" id="footer">

<dl class="e">
<dt class="e">
links
</dt>
<dd class="e">
<a href="http://soupksx6vqh3ydda.onion.city/tor_serv.html">TORring the net</a>
</dd>
<dd class="e">
<a href="http://soupksx6vqh3ydda.onion.city/nginx_onion.html">Nginx+Tor</a>
</dd>
<dd class="e">
<a href="http://soupksx6vqh3ydda.onion.city/apache_onion.html">Apache+Tor</a>
</dd>
<dd class="e">
<a href="http://soupksx6vqh3ydda.onion.city/lighttpd_onion.html">Lighttpd+Tor</a>
</dd>
</dl>

</div>
</div>



</body></html>